<form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="tui-row tui-row_sme">
        <div class=" tui-col_3"></div>
        <div class=" tui-col_6">
            <h3 class="tui-text_h3">Create release</h3>
            <div class="tui-form__row tui-form__row_multi-fields">
                <div class="tui-form__multi-field">
                    <tui-input formControlName="title">
                        Release title
                    </tui-input>
                    <tui-field-error formControlName="title"></tui-field-error>
                </div>
                <div class="tui-form__multi-field">
                    <tui-select formControlName="type">
                        Type
                        <input tuiTextfield placeholder="Choose release type"/>
                        <tui-data-list-wrapper
                            *tuiDataList
                            [items]="types"
                        ></tui-data-list-wrapper>
                    </tui-select>
                    <tui-field-error formControlName="type"></tui-field-error>
                </div>
            </div>
            <div class="tui-form__row tui-form__row_multi-fields">
                <div class="tui-form__multi-field">
                    <tui-input formControlName="subtitle">Subtitle</tui-input>
                    <tui-field-error formControlName="subtitle"></tui-field-error>
                </div>
                <div class="tui-form__multi-field">
                    <tui-input formControlName="artist">Artist</tui-input>
                    <tui-field-error formControlName="artist"></tui-field-error>
                </div>
            </div>
            <div class="tui-form__row tui-form__row_multi-fields">
                <div class="tui-form__multi-field">
                    <tui-input formControlName="featuring">Featuring</tui-input>
                    <tui-field-error formControlName="featuring"></tui-field-error>
                </div>
                <div class="tui-form__multi-field">
                    <tui-select formControlName="genre">
                        Genre
                        <input tuiTextfield placeholder="Choose the main genre"/>
                        <tui-data-list-wrapper
                            *tuiDataList
                            [items]="genres"
                        ></tui-data-list-wrapper>
                    </tui-select>
                    <tui-field-error formControlName="genre"></tui-field-error>
                </div>
            </div>
            <div class="tui-form__row tui-form__row_multi-fields">
                <div class="tui-form__multi-field">
                    <tui-select formControlName="country">
                        Country
                        <input tuiTextfield placeholder="Choose the country"/>
                        <tui-data-list-wrapper
                            *tuiDataList
                            [items]="countries"
                        ></tui-data-list-wrapper>
                    </tui-select>
                    <tui-field-error formControlName="country"></tui-field-error>
                </div>
                <div class="tui-form__multi-field">
                    <tui-input-date
                        formControlName="releaseDate"
                        [(ngModel)]="releaseDate"
                        [min]="currentDay"
                    >
                        Choose a publishing date
                    </tui-input-date>
                    <tui-field-error formControlName="releaseDate"></tui-field-error>
                </div>
            </div>
            <div class="tui-form__row tui-form__row_multi-fields">
                <div class="tui-form__multi-field">
                    <tui-input-files
                        *ngIf="!this.form.controls.cover.value"
                        accept="image/*"
                        [link] = "'Choose file'"
                        [label]="'of release cover'"
                        [formControl]="this.form.controls.cover"
                        (reject)="onReject($event)"
                    ></tui-input-files>
                    
                    <tui-files class="tui-space_top-1">
                        <tui-file
                            *ngIf="this.form.controls.cover.valueChanges | async as file"
                            [file]="file"
                            size="l"
                            (removed)="removeFile()"
                        ></tui-file>
                    
                        <tui-file
                            *ngIf="rejectedFiles$ | async as file"
                            state="error"
                            [file]="file"
                            (removed)="clearRejected()"
                        ></tui-file>
                    </tui-files>
                </div>
            </div>
            <h3 class="tui-text_h3">Add track(s)</h3>
            
            <div class="tui-form__buttons">
                <button tuiButton type="submit" class="tui-form__button">Отправить</button>
                <button tuiButton appearance="accent" type="button" class="tui-form__button">Сохранить черновик</button>
                <button tuiButton appearance="flat" type="button" class="tui-form__button" routerLink="../">Отмена</button>
            </div>
        </div>
    </div>
</form>