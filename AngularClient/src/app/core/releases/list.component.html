<div class="head-title">
    <div class="left">
        <h1>Releases</h1>
        <ul class="breadcrumb">
            <li>
                <a href="#">HostMusic</a>
            </li>
            <li><i class='bx bx-chevron-right' ></i></li>
            <li>
                <a class="active" href="#">Releases</a>
            </li>
        </ul>
    </div>
    <button
        tuiButton
        type="button"
        size="m"
        icon="tuiIconPlusLarge"
        routerLink="add"
    >
        New release
    </button>
</div>

<div class="table-data">
    <div class="order">
        <form [formGroup]="searchForm">
            <tui-input
                icon="tuiIconSearchLarge"
                [(ngModel)]="search"
                formControlName="search"
                >
                Search
            </tui-input>
        </form>
        <table class="tui-table tui-space_top-3">
            <thead>
                <tr class="tui-table__tr">
                    <th class="tui-table__th" style="width:10%"><b>Cover</b></th>
                    <th class="tui-table__th"><b>Release</b></th>
                    <th class="tui-table__th"><b>Type</b></th>
                    <th class="tui-table__th"><b>Date</b></th>
                    <th class="tui-table__th"><b>Status</b></th>
                    <th class="tui-table__th" style="width:10%"></th>
                </tr>
            </thead>
            <tbody>
                <tr class="tui-table__tr" *ngFor="let release of releases" routerLink="view/{{release.id}}">
                    <td class="tui-table__th"><img [src]="this.getFilePath(release.coverPath)"></td>
                    <td class="tui-table__th"><b>{{release.artist}}
                        {{this.getFeatText(release.featuring)}}</b> - {{release.title}} <i>{{getSubtitleText(release.subtitle)}}</i></td>
                    <td class="tui-table__th">{{release.type}}</td>
                    <td class="tui-table__th">{{this.formatDate(release.releaseDate)}}</td>
                    <td class="tui-table__th"><tui-badge [status]="this.getBadge(release.status)" [value]="release.status"></tui-badge></td>
                    <td class="tui-table__th" style="white-space: nowrap">
                        <button tuiButton routerLink="edit/{{release.id}}" icon="tuiIconDraft" size="s" style="margin-right: 10px;">Edit</button>
                        <button tuiButton size="s" icon="tuiIconTrash" appearance="accent">
                            <span>Delete</span>
                        </button>
                    </td>
                </tr>
                <tr class="tui-table__tr" *ngIf="!releases">
                    <td colspan="6" class="text-center">
                        <span class="spinner-border spinner-border-lg align-center"></span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <tui-pagination
        [length]="length"
        [index]="index"
        (indexChange)="goToPage($event)"
></tui-pagination>
</div>