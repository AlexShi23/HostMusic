<tui-island class="with-shadow">
    <h1 class="title" style="text-align: center;">{{ 'ResetPassword.NewPassword' | translate }}</h1>
    <div *ngIf="tokenStatus == TokenStatus.Validating">
        <p>{{ 'ResetPassword.TokenChecking' | translate }}</p>
    </div>
    <div *ngIf="tokenStatus == TokenStatus.Invalid">
        <p>{{ 'ResetPassword.TokenCheckingFailed' | translate }}<a routerLink="../forgot-password">"{{ 'Identity.ForgotPassword' | translate }}"</a></p>
    </div>
    <form *ngIf="tokenStatus == TokenStatus.Valid" [formGroup]="form" (ngSubmit)="onSubmit()">
        <p>
            <tui-input-password formControlName="password">
                {{ 'Identity.EnterPassword' | translate }}
            </tui-input-password>
            <tui-error formControlName="password" [error]="[] | tuiFieldError | async"></tui-error>
        </p>
        <p>
            <tui-input-password formControlName="confirmPassword">
                {{ 'Registration.RepeatPassword' | translate }}
            </tui-input-password>
            <tui-error formControlName="confirmPassword" [error]="[] | tuiFieldError | async"></tui-error>
        </p>
        <p>
            <button tuiButton [disabled]="form.invalid">{{ 'Reset' | translate }}</button>
            <button tuiButton appearance="flat" routerLink="../login" class="tui-space_left-3">
                {{ 'Cancel' | translate }}
            </button> 
        </p>
    </form>
</tui-island>